/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
alter table album drop constraint FK5897E6F91AD3E87
alter table album_song drop constraint FKCD8FDCE5CAE46B07
alter table album_song drop constraint FKCD8FDCE5AD9DCD57
alter table user_song drop constraint FK143C6909CAE46B07
alter table user_song drop constraint FK143C69093DE4E664
drop table album if exists
drop table album_song if exists
drop table artist if exists
drop table song if exists
drop table user if exists
drop table user_song if exists
create table album (id bigint generated by default as identity (start with 1), version bigint not null, art varbinary(255) not null, artist_id bigint not null, title varchar(255) not null, primary key (id))
create table album_song (album_song_id bigint, song_id bigint)
create table artist (id bigint generated by default as identity (start with 1), version bigint not null, name varchar(255) not null, primary key (id))
create table song (id bigint generated by default as identity (start with 1), version bigint not null, duration integer not null, title varchar(255) not null, primary key (id))
create table user (id bigint generated by default as identity (start with 1), version bigint not null, first_name varchar(255) not null, last_name varchar(255) not null, login varchar(15) not null, password varchar(15) not null, primary key (id), unique (login))
create table user_song (user_purchased_songs_id bigint, song_id bigint)
alter table album add constraint FK5897E6F91AD3E87 foreign key (artist_id) references artist
alter table album_song add constraint FKCD8FDCE5CAE46B07 foreign key (song_id) references song
alter table album_song add constraint FKCD8FDCE5AD9DCD57 foreign key (album_song_id) references album
alter table user_song add constraint FK143C6909CAE46B07 foreign key (song_id) references song
alter table user_song add constraint FK143C69093DE4E664 foreign key (user_purchased_songs_id) references user
